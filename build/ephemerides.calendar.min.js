var Ephemerides=function(a){"use strict";a.calendar=a.calendar||{};var b=a.calendar;return b.constants={J0000:1721424.5,J1970:2440587.5,JMJD:2400000.5,J1900:2415020.5,J1904:2416480.5,NORM_LEAP:["Normal year","Leap year"],gregorian:{EPOCH:1721425.5,MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"]},julian:{EPOCH:1721423.5,MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"]},hebrew:{EPOCH:347995.5,MONTHS:["Nisan","Iyyar","Sivan","Tammuz","Av","Elul","Tishri","Marẖeshvan","Kislev","Teveth","Shevat","Adar","Veadar"],H_MONTHS:["נִיסָן","אייר","סיוון","תַּמּוּז","אָב","אֱלוּל","תִּשׁרִי","מרחשוון","כסליו","טֵבֵת","שְׁבָט","אֲדָר א׳","אֲדָר א׳"]},french_revolutionary:{EPOCH:2375839.5,MOIS:["Vendémiaire","Brumaire","Frimaire","Nivôse","Pluviôse","Ventôse","Germinal","Floréal","Prairial","Messidor","Thermidor","Fructidor","(Sans-culottides)"],DECADE:["I","II","III"],JOUR:["du Primidi (1)","du Duodi (2)","du Tridi (3)","du Quartidi (4)","du Quintidi (5)","du Sextidi (6)","du Septidi (7)","du Octid (8)i","du Nonidi (9)","du Décadi (10)","------------","de la Vertu (1)","du Génie (2)","du Travail (3)","de l'Opinion (4)","des Récompenses (5)","de la Révolution (6)"]},islamic:{EPOCH:1948439.5,WEEKDAYS:["al-'ahad","al-'ithnayn","ath-thalatha'","al-'arb`a'","al-khamis","al-jum`a","as-sabt"],MONTHS:["Muharram","Safar","Rabi`al-Awwal","Rabi`ath-Thani","Jumada l-Ula","Jumada t-Tania","Rajab","Sha`ban","Ramadan","Shawwal","Dhu l-Qa`da","Dhu l-Hijja"]},persian:{EPOCH:1948320.5,WEEKDAYS:["Yekshanbeh","Doshanbeh","Seshhanbeh","Chaharshanbeh","Panjshanbeh","Jomeh","Shanbeh"],MONTHS:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},mayan:{COUNT_EPOCH:584282.5,HAAB_MONTHS:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],TZOLKIN_MONTHS:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]},bahai:{EPOCH:2394646.5,WEEKDAYS:["Jamál","Kamál","Fidál","Idál","Istijlál","Istiqlál","Jalál"],YEARS:["Alif","Bá","Ab","Dál","Báb","Váv","Abad","Jád","Bahá","Hubb","Bahháj","Javáb","Ahad","Vahháb","Vidád","Badí","Bahí","Abhá","Vahíd"],MONTHS:["Bahá","Jalál","Jamál","`Azamat","Núr","Rahmat","Kalimát","Kamál","Asmá","`Izzat","Mashíyyat","`Ilm","Qudrat","Qawl","Masáil","Sharaf","Sultán","Mulk","Ayyám-i-Há","`Alá'"],DAYS:["Bahá","Jalál","Jamál","`Azamat","Núr","Rahmat","Kalimát","Kamál","Asmá","`Izzat","Mashíyyat","`Ilm","Qudrat","Qawl","Masáil","Sharaf","Sultán","Mulk","`Alá'"]},indian_civil:{WEEKDAYS:["ravivara","somavara","mangalavara","budhavara","brahaspativara","sukravara","sanivara"],MONTHS:["Caitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]}},a}(Ephemerides||{}),Ephemerides=function(a){"use strict";a.calendar=a.calendar||{};var b=a.calendar;return b.calcGregorian=function(){this.updateFromGregorian()},b.calcJulian=function(){var a,b,c;a=new Number(data.julianday.day),b=this.jd_to_gregorian(a),c=jhms(a),data.gregorian.year=b[0],data.gregorian.month=b[1]-1,data.gregorian.day=b[2],data.gregorian.hour=pad(c[0],2," "),data.gregorian.min=pad(c[1],2,"0"),data.gregorian.sec=pad(c[2],2,"0"),this.updateFromGregorian()},b.setJulian=function(a){data.julianday.day=new Number(a),this.calcJulian()},b.calcModifiedJulian=function(){this.setJulian(new Number(data.modifiedjulianday.day)+JMJD)},b.calcJulianCalendar=function(){this.setJulian(this.julian_to_jd(new Number(data.juliancalendar.year),data.juliancalendar.month.selectedIndex+1,new Number(data.juliancalendar.day)))},b.calcHebrew=function(){this.setJulian(this.hebrew_to_jd(new Number(data.hebrew.year),data.hebrew.month.selectedIndex+1,new Number(data.hebrew.day)))},b.calcIslamic=function(){this.setJulian(this.islamic_to_jd(new Number(data.islamic.year),data.islamic.month.selectedIndex+1,new Number(data.islamic.day)))},b.calcPersian=function(){this.setJulian(this.persian_to_jd(new Number(data.persian.year),data.persian.month.selectedIndex+1,new Number(data.persian.day)))},b.calcPersiana=function(){this.setJulian(this.persiana_to_jd(new Number(data.persiana.year),data.persiana.month.selectedIndex+1,new Number(data.persiana.day))+.5)},b.calcMayanCount=function(){this.setJulian(this.mayan_count_to_jd(new Number(data.mayancount.baktun),new Number(data.mayancount.katun),new Number(data.mayancount.tun),new Number(data.mayancount.uinal),new Number(data.mayancount.kin)))},b.calcBahai=function(){this.setJulian(this.bahai_to_jd(new Number(data.bahai.kull_i_shay),new Number(data.bahai.vahid),data.bahai.year.selectedIndex+1,data.bahai.month.selectedIndex+1,data.bahai.day.selectedIndex+1))},b.calcIndianCivilCalendar=function(){this.setJulian(this.indian_civil_to_jd(new Number(data.indiancivilcalendar.year),data.indiancivilcalendar.month.selectedIndex+1,new Number(data.indiancivilcalendar.day)))},b.calcFrench=function(){var a,b,c;b=data.french.jour.selectedIndex,a=data.french.decade.selectedIndex,c=data.french.mois.selectedIndex,b>9&&(b-=11,a=0,c=12),12==c&&(a=0,b>5&&(b=0)),this.setJulian(this.french_revolutionary_to_jd(new Number(data.french.an),c+1,a+1,b+1))},b.calcGregSerial=function(){this.setJulian(new Number(data.gregserial.day)+J0000)},b.calcExcelSerial1900=function(){var a=new Number(data.excelserial1900.day);a>60&&a--,this.setJulian(a-1+J1900)},b.calcExcelSerial1904=function(){this.setJulian(new Number(data.excelserial1904.day)+J1904)},b.calcUnixTime=function(){var a=new Number(data.unixtime.time);this.setJulian(J1970+a/86400)},b.calcIsoWeek=function(){var a=new Number(data.isoweek.year),b=new Number(data.isoweek.week),c=new Number(data.isoweek.day);this.setJulian(iso_to_julian(a,b,c))},b.calcIsoDay=function(){var a=new Number(data.isoday.year),b=new Number(data.isoday.day);this.setJulian(this.iso_day_to_julian(a,b))},a}(Ephemerides||{}),Ephemerides=function(a){"use strict";a.calendar=a.calendar||{},a.data=a.data||{bahai:{},excelserial1900:{},excelserial1904:{},french:{},gregorian:{},gregserial:{},hebrew:{},indiancivilcalendar:{},islamic:{},isoday:{},isoweek:{},juliancalendar:{},julianday:{},mayancount:{},modifiedjulianday:{},persian:{},persiana:{},unixtime:{}};var b=a.astro,c=a.calendar,d=a.data;return c.weekday_before=function(a,c){return c-b.jwday(c-a)},c.search_weekday=function(a,b,c,d){return this.weekday_before(a,b+c*d)},c.nearest_weekday=function(a,b){return this.search_weekday(a,b,1,3)},c.next_weekday=function(a,b){return this.search_weekday(a,b,1,7)},c.next_or_current_weekday=function(a,b){return this.search_weekday(a,b,1,6)},c.previous_weekday=function(a,b){return this.search_weekday(a,b,-1,1)},c.previous_or_current_weekday=function(a,b){return this.search_weekday(a,b,1,0)},c.leap_gregorian=function(a){return 0==a%4&&!(0==a%100&&0!=a%400)},c.gregorian_to_jd=function(a,b,c){return this.constants.gregorian.EPOCH-1+365*(a-1)+Math.floor((a-1)/4)+-Math.floor((a-1)/100)+Math.floor((a-1)/400)+Math.floor((367*b-362)/12+(2>=b?0:this.leap_gregorian(a)?-1:-2)+c)},c.jd_to_gregorian=function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;return c=Math.floor(a-.5)+.5,d=c-this.constants.gregorian.EPOCH,e=Math.floor(d/146097),f=b.mod(d,146097),g=Math.floor(f/36524),h=b.mod(f,36524),i=Math.floor(h/1461),j=b.mod(h,1461),k=Math.floor(j/365),l=400*e+100*g+4*i+k,4!=g&&4!=k&&l++,m=c-this.gregorian_to_jd(l,1,1),n=c<this.gregorian_to_jd(l,3,1)?0:this.leap_gregorian(l)?1:2,o=Math.floor((12*(m+n)+373)/367),p=c-this.gregorian_to_jd(l,o,1)+1,[l,o,p]},c.n_weeks=function(a,b,c){var d=7*c;return d+=c>0?this.previous_weekday(a,b):this.next_weekday(a,b)},c.iso_to_julian=function(a,b,c){return c+this.n_weeks(0,this.gregorian_to_jd(a-1,12,28),b)},c.jd_to_iso=function(a){var c,d,e;return c=this.jd_to_gregorian(a-3)[0],a>=this.iso_to_julian(c+1,1,1)&&c++,d=Math.floor((a-this.iso_to_julian(c,1,1))/7)+1,e=b.jwday(a),0==e&&(e=7),[c,d,e]},c.iso_day_to_julian=function(a,b){return b-1+this.gregorian_to_jd(a,1,1)},c.jd_to_iso_day=function(a){var b,c;return b=this.jd_to_gregorian(a)[0],c=Math.floor(a-this.gregorian_to_jd(b,1,1))+1,[b,c]},c.pad=function(a,b,c){for(var d=a.toString();d.length<b;)d=c+d;return d},c.leap_julian=function(a){return b.mod(a,4)==(a>0?0:3)},c.julian_to_jd=function(a,b,c){return 1>a&&a++,2>=b&&(a--,b+=12),Math.floor(365.25*(a+4716))+Math.floor(30.6001*(b+1))+c-1524.5},c.jd_to_julian=function(a){var b,c,d,e,f,g,h,i,j;return a+=.5,b=Math.floor(a),c=b,d=c+1524,e=Math.floor((d-122.1)/365.25),f=Math.floor(365.25*e),g=Math.floor((d-f)/30.6001),i=Math.floor(14>g?g-1:g-13),h=Math.floor(i>2?e-4716:e-4715),j=d-f-Math.floor(30.6001*g),1>h&&h--,[h,i,j]},c.hebrew_leap=function(a){return b.mod(7*a+1,19)<7},c.hebrew_year_months=function(a){return this.hebrew_leap(a)?13:12},c.hebrew_delay_1=function(a){var c,d,e;return c=Math.floor((235*a-234)/19),e=12084+13753*c,d=29*c+Math.floor(e/25920),b.mod(3*(d+1),7)<3&&d++,d},c.hebrew_delay_2=function(a){var b,c,d;return b=this.hebrew_delay_1(a-1),c=this.hebrew_delay_1(a),d=this.hebrew_delay_1(a+1),356==d-c?2:382==c-b?1:0},c.hebrew_year_days=function(a){return this.hebrew_to_jd(a+1,7,1)-this.hebrew_to_jd(a,7,1)},c.hebrew_month_days=function(a,c){return 2==c||4==c||6==c||10==c||13==c?29:12!=c||this.hebrew_leap(a)?8==c&&5!=b.mod(this.hebrew_year_days(a),10)?29:9==c&&3==b.mod(this.hebrew_year_days(a),10)?29:30:29},c.hebrew_to_jd=function(a,b,c){var d,e,f;if(f=this.hebrew_year_months(a),d=this.constants.hebrew.EPOCH+this.hebrew_delay_1(a)+this.hebrew_delay_2(a)+c+1,7>b){for(e=7;f>=e;e++)d+=this.hebrew_month_days(a,e);for(e=1;b>e;e++)d+=this.hebrew_month_days(a,e)}else for(e=7;b>e;e++)d+=this.hebrew_month_days(a,e);return d},c.jd_to_hebrew=function(a){var b,c,d,e,f,g;for(a=Math.floor(a)+.5,f=Math.floor(98496*(a-this.constants.hebrew.EPOCH)/35975351),b=f-1,e=f;a>=this.hebrew_to_jd(e,7,1);e++)b++;for(g=a<this.hebrew_to_jd(b,1,1)?7:1,c=g,e=g;a>this.hebrew_to_jd(b,e,this.hebrew_month_days(b,e));e++)c++;return d=a-this.hebrew_to_jd(b,c,1)+1,[b,c,d]},c.equinoxe_a_paris=function(a){var c,d,e,f,g;return c=b.equinox(a,2),d=c-b.deltat(a)/86400,e=d+b.equationOfTime(c),g=.006493055555555557,f=e+g},c.paris_equinoxe_jd=function(a){var b,c;return b=this.equinoxe_a_paris(a),c=Math.floor(b-.5)+.5},c.annee_da_la_revolution=function(a){var c,d,e,f=this.jd_to_gregorian(a)[0]-2;for(c=this.paris_equinoxe_jd(f);c>a;)f--,c=this.paris_equinoxe_jd(f);for(d=c-1;!(a>=c&&d>a);)c=d,f++,d=this.paris_equinoxe_jd(f);return e=Math.round((c-this.constants.french_revolutionary.EPOCH)/b.constants.TROPICAL_YEAR)+1,[e,c]},c.jd_to_french_revolutionary=function(a){var b,c,d,e,f,g;return a=Math.floor(a)+.5,f=this.annee_da_la_revolution(a),b=f[0],g=f[1],c=Math.floor((a-g)/30)+1,e=(a-g)%30,d=Math.floor(e/10)+1,e=e%10+1,[b,c,d,e]},c.french_revolutionary_to_jd=function(a,c,d,e){var f,g,h,i;for(h=this.constants.french_revolutionary.EPOCH+b.constants.TROPICAL_YEAR*(a-1-1),f=[a-1,0];f[0]<a;)f=this.annee_da_la_revolution(h),h=f[1]+(b.constants.TROPICAL_YEAR+2);return g=f[1],i=g+30*(c-1)+10*(d-1)+(e-1)},c.leap_islamic=function(a){return 11>(11*a+14)%30},c.islamic_to_jd=function(a,b,c){return c+Math.ceil(29.5*(b-1))+354*(a-1)+Math.floor((3+11*a)/30)+this.constants.islamic.EPOCH-1},c.jd_to_islamic=function(a){var b,c,d;return a=Math.floor(a)+.5,b=Math.floor((30*(a-this.constants.islamic.EPOCH)+10646)/10631),c=Math.min(12,Math.ceil((a-(29+this.islamic_to_jd(b,1,1)))/29.5)+1),d=a-this.islamic_to_jd(b,c,1)+1,[b,c,d]},c.tehran_equinox=function(a){var c,d,e,f,g;return c=b.equinox(a,0),d=c-b.deltat(a)/86400,e=d+b.equationOfTime(c),g=52.5/360,f=e+g},c.tehran_equinox_jd=function(a){var b,c;return b=this.tehran_equinox(a),c=Math.floor(b)},c.persiana_year=function(a){var c,d,e,f=this.jd_to_gregorian(a)[0]-2;for(c=this.tehran_equinox_jd(f);c>a;)f--,c=this.tehran_equinox_jd(f);for(d=c-1;!(a>=c&&d>a);)c=d,f++,d=this.tehran_equinox_jd(f);return e=Math.round((c-this.constants.persian.EPOCH)/b.constants.TROPICAL_YEAR)+1,[e,c]},c.jd_to_persiana=function(a){var b,c,d,e,f,g;return a=Math.floor(a)+.5,e=this.persiana_year(a),b=e[0],f=e[1],d=Math.floor((a-f)/30)+1,g=Math.floor(a)-this.persiana_to_jd(b,1,1)+1,c=186>=g?Math.ceil(g/31):Math.ceil((g-6)/30),d=Math.floor(a)-this.persiana_to_jd(b,c,1)+1,[b,c,d]},c.persiana_to_jd=function(a,c,d){var e,f,g,h;for(g=this.constants.persian.EPOCH-1+b.constants.TROPICAL_YEAR*(a-1-1),e=[a-1,0];e[0]<a;)e=this.persiana_year(g),g=e[1]+(b.constants.TROPICAL_YEAR+2);return f=e[1],h=f+(7>=c?31*(c-1):30*(c-1)+6)+(d-1)},c.leap_persiana=function(a){return this.persiana_to_jd(a+1,1,1)-this.persiana_to_jd(a,1,1)>365},c.leap_persian=function(a){return 682>682*((a-(a>0?474:473))%2820+474+38)%2816},c.persian_to_jd=function(a,c,d){var e,f;return e=a-(a>=0?474:473),f=474+b.mod(e,2820),d+(7>=c?31*(c-1):30*(c-1)+6)+Math.floor((682*f-110)/2816)+365*(f-1)+1029983*Math.floor(e/2820)+(this.constants.persian.EPOCH-1)},c.jd_to_persian=function(a){var c,d,e,f,g,h,i,j,k,l;return a=Math.floor(a)+.5,f=a-this.persian_to_jd(475,1,1),g=Math.floor(f/1029983),h=b.mod(f,1029983),1029982==h?i=2820:(j=Math.floor(h/366),k=b.mod(h,366),i=Math.floor((2134*j+2816*k+2815)/1028522)+j+1),c=i+2820*g+474,0>=c&&c--,l=a-this.persian_to_jd(c,1,1)+1,d=186>=l?Math.ceil(l/31):Math.ceil((l-6)/30),e=a-this.persian_to_jd(c,d,1)+1,[c,d,e]},c.mayan_count_to_jd=function(a,b,c,d,e){return this.constants.mayan.COUNT_EPOCH+144e3*a+7200*b+360*c+20*d+e},c.jd_to_mayan_count=function(a){var c,d,e,f,g,h;return a=Math.floor(a)+.5,c=a-this.constants.mayan.COUNT_EPOCH,d=Math.floor(c/144e3),c=b.mod(c,144e3),e=Math.floor(c/7200),c=b.mod(c,7200),f=Math.floor(c/360),c=b.mod(c,360),g=Math.floor(c/20),h=b.mod(c,20),[d,e,f,g,h]},c.jd_to_mayan_haab=function(a){var c,d;return a=Math.floor(a)+.5,c=a-this.constants.mayan.COUNT_EPOCH,d=b.mod(c+8+340,365),[Math.floor(d/20)+1,b.mod(d,20)]},c.jd_to_mayan_tzolkin=function(a){var c;return a=Math.floor(a)+.5,c=a-this.constants.mayan.COUNT_EPOCH,[b.amod(c+20,20),b.amod(c+4,13)]},c.bahai_to_jd=function(a,b,c,d,e){var f;return f=361*(a-1)+19*(b-1)+(c-1)+this.jd_to_gregorian(this.constants.bahai.EPOCH)[0],this.gregorian_to_jd(f,3,20)+19*(d-1)+(20!=d?0:this.leap_gregorian(f+1)?-14:-15)+e},c.jd_to_bahai=function(a){var c,d,e,f,g,h,i,j,k,l;return a=Math.floor(a)+.5,h=this.jd_to_gregorian(a)[0],i=this.jd_to_gregorian(this.constants.bahai.EPOCH)[0],j=h-(i+(this.gregorian_to_jd(h,1,1)<=a&&a<=this.gregorian_to_jd(h,3,20)?1:0)),c=Math.floor(j/361)+1,d=Math.floor(b.mod(j,361)/19)+1,e=b.mod(j,19)+1,k=a-this.bahai_to_jd(c,d,e,1,1),l=this.bahai_to_jd(c,d,e,20,1),f=a>=l?20:Math.floor(k/19)+1,g=a+1-this.bahai_to_jd(c,d,e,f,1),[c,d,e,f,g]},c.indian_civil_to_jd=function(a,b,c){var d,e,f,g,h,i;return e=a+78,f=this.leap_gregorian(e),g=this.gregorian_to_jd(e,3,f?21:22),d=f?31:30,1==b?h=g+(c-1):(h=g+d,i=b-2,i=Math.min(i,5),h+=31*i,b>=8&&(i=b-7,h+=30*i),h+=c-1),h},c.jd_to_indian_civil=function(a){var b,c,d,e,f,g,h,i,j,k,l;return c=78,g=80,a=Math.floor(a)+.5,d=this.jd_to_gregorian(a),f=this.leap_gregorian(d[0]),h=d[0]-c,e=this.gregorian_to_jd(d[0],1,1),k=a-e,b=f?31:30,g>k&&(h--,k+=b+155+90+10+g),k-=g,b>k?(i=1,j=k+1):(l=k-b,155>l?(i=Math.floor(l/31)+2,j=l%31+1):(l-=155,i=Math.floor(l/30)+7,j=l%30+1)),[h,i,j]},c.updateFromGregorian=function(){var a,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;switch(c=new Number(d.gregorian.year),e=d.gregorian.month,f=new Number(d.gregorian.day),g=h=i=0,g=new Number(d.gregorian.hour),h=new Number(d.gregorian.min),i=new Number(d.gregorian.sec),a=this.gregorian_to_jd(c,e+1,f)+Math.floor(i+60*(h+60*g)+.5)/86400,d.julianday.day=a,d.modifiedjulianday.day=a-this.constants.JMJD,j=b.jwday(a),d.gregorian.wday=b.constants.WEEKDAYS[j],d.gregorian.leap=this.constants.NORM_LEAP[this.leap_gregorian(c)?1:0],k=this.jd_to_julian(a),d.juliancalendar.year=k[0],d.juliancalendar.month=this.constants.julian.MONTHS[k[1]-1],d.juliancalendar.day=k[2],d.juliancalendar.leap=this.constants.NORM_LEAP[this.leap_julian(k[0])?1:0],j=b.jwday(a),d.juliancalendar.wday=b.constants.WEEKDAYS[j],m=this.jd_to_hebrew(a),d.hebrew.year=m[0],d.hebrew.month=this.constants.hebrew.MONTHS[m[1]-1],d.hebrew.day=m[2],d.hebrew.hebmonth=this.constants.hebrew.H_MONTHS[m[1]-1],this.hebrew_year_days(m[0])){case 353:d.hebrew.leap="Common deficient (353 days)";break;case 354:d.hebrew.leap="Common regular (354 days)";break;case 355:d.hebrew.leap="Common complete (355 days)";break;case 383:d.hebrew.leap="Embolismic deficient (383 days)";break;case 384:d.hebrew.leap="Embolismic regular (384 days)";break;case 385:d.hebrew.leap="Embolismic complete (385 days)";break;default:d.hebrew.leap="Invalid year length: "+this.hebrew_year_days(m[0])+" days."}n=this.jd_to_islamic(a),d.islamic.year=n[0],d.islamic.month=this.constants.islamic.MONTHS[n[1]-1],d.islamic.day=n[2],d.islamic.wday="yawm "+this.constants.islamic.WEEKDAYS[j],d.islamic.leap=this.constants.NORM_LEAP[this.leap_islamic(n[0])?1:0],l=this.jd_to_persian(a),d.persian.year=l[0],d.persian.month=this.constants.persian.MONTHS[l[1]-1],d.persian.day=l[2],d.persian.wday=this.constants.persian.WEEKDAYS[j],d.persian.leap=this.constants.NORM_LEAP[this.leap_persian(l[0])?1:0],l=this.jd_to_persiana(a),d.persiana.year=l[0],d.persiana.month=this.constants.persian.MONTHS[l[1]-1],d.persiana.day=l[2],d.persiana.wday=this.constants.persian.WEEKDAYS[j],d.persiana.leap=this.constants.NORM_LEAP[this.leap_persiana(l[0])?1:0],q=this.jd_to_mayan_count(a),d.mayancount.baktun=q[0],d.mayancount.katun=q[1],d.mayancount.tun=q[2],d.mayancount.uinal=q[3],d.mayancount.kin=q[4],r=this.jd_to_mayan_haab(a),d.mayancount.haab=""+r[1]+" "+this.constants.mayan.HAAB_MONTHS[r[0]-1],s=this.jd_to_mayan_tzolkin(a),d.mayancount.tzolkin=""+s[1]+" "+this.constants.mayan.TZOLKIN_MONTHS[s[0]-1],t=this.jd_to_bahai(a),d.bahai.kull_i_shay=t[0],d.bahai.vahid=t[1],d.bahai.year=this.constants.bahai.YEARS[t[2]-1],d.bahai.month=this.constants.bahai.MONTHS[t[3]-1],d.bahai.day=this.constants.bahai.DAYS[t[4]-1],d.bahai.weekday=this.constants.bahai.WEEKDAYS[j],d.bahai.leap=this.constants.NORM_LEAP[this.leap_gregorian(c)?1:0],v=this.jd_to_indian_civil(a),d.indiancivilcalendar.year=v[0],d.indiancivilcalendar.month=this.constants.indian_civil.MONTHS[v[1]-1],d.indiancivilcalendar.day=v[2],d.indiancivilcalendar.weekday=this.constants.indian_civil.WEEKDAYS[j],d.indiancivilcalendar.leap=this.constants.NORM_LEAP[this.leap_gregorian(v[0]+78)?1:0],u=this.jd_to_french_revolutionary(a),d.french.an=u[0],d.french.mois=this.constants.french_revolutionary.MOIS[u[1]-1],d.french.decade=this.constants.french_revolutionary.DECADE[u[2]-1],d.french.jour=this.constants.french_revolutionary.JOUR[(u[1]<=12?u[3]:u[3]+11)-1],null!=d.gregserial&&(d.gregserial.day=a-this.constants.J0000),d.excelserial1900.day=a-this.constants.J1900+1+(a>2415078.5?1:0),d.excelserial1904.day=a-this.constants.J1904,o=864e5*(a-this.constants.J1970),d.unixtime.time=Math.round(o/1e3),p=this.jd_to_iso(a),d.isoweek.year=p[0],d.isoweek.week=p[1],d.isoweek.day=p[2],w=this.jd_to_iso_day(a),d.isoday.year=w[0],d.isoday.day=w[1]},c.setDateToToday=function(){var a=new Date;d.gregorian.year=a.getFullYear(),d.gregorian.month=a.getMonth(),d.gregorian.day=a.getDate(),d.gregorian.hour=0,d.gregorian.min=0,d.gregorian.sec=0},c.setDateTo=function(a){d.gregorian.year=a.getFullYear(),d.gregorian.month=a.getMonth(),d.gregorian.day=a.getDate(),d.gregorian.hour=a.getHours(),d.gregorian.min=a.getMinutes(),d.gregorian.sec=a.getSeconds()},c.setDateToNow=function(){var a=new Date;this.setDateTo(a)},c.start=function(){return a.intervalId=window.setInterval(function(){c.setDateTo(new Date),c.calcGregorian()},1e3),a},c.stop=function(){return window.clearInterval(a.intervalId),a},c.presetDataToRequest=function(a){var b=a.indexOf("="),c=!1;if(-1!=b){var e=a.substring(0,b),f=decodeURIComponent(a.substring(b+1));if("gregorian"==e.toLowerCase()){var g=f.match(/^(\d+)\D(\d+)\D(\d+)(\D\d+)?(\D\d+)?(\D\d+)?/);null!=g?g[2]>=1&&g[2]<=12&&g[3]>=1&&g[3]<=31&&(void 0==g[4]||g[4].substring(1)>=0&&g[4].substring(1)<=23)&&(void 0==g[5]||g[5].substring(1)>=0&&g[5].substring(1)<=59)&&(void 0==g[6]||g[6].substring(1)>=0&&g[6].substring(1)<=59)?(d.gregorian.year=g[1],d.gregorian.month=g[2]-1,d.gregorian.day=Number(g[3]),d.gregorian.hour=void 0==g[4]?0:g[4].substring(1),d.gregorian.min=void 0==g[5]?0:g[5].substring(1),d.gregorian.sec=void 0==g[6]?0:g[6].substring(1),this.calcGregorian(),c=!0):alert('Invalid Gregorian date "'+f+'" in search request'):alert('Invalid Gregorian date "'+f+'" in search request')}else if("julian"==e.toLowerCase()){var g=f.match(/^(\d+)\D(\d+)\D(\d+)(\D\d+)?(\D\d+)?(\D\d+)?/);null!=g?g[2]>=1&&g[2]<=12&&g[3]>=1&&g[3]<=31&&(void 0==g[4]||g[4].substring(1)>=0&&g[4].substring(1)<=23)&&(void 0==g[5]||g[5].substring(1)>=0&&g[5].substring(1)<=59)&&(void 0==g[6]||g[6].substring(1)>=0&&g[6].substring(1)<=59)?(d.juliancalendar.year=g[1],d.juliancalendar.month.selectedIndex=g[2]-1,d.juliancalendar.day=Number(g[3]),this.calcJulianCalendar(),d.gregorian.hour=void 0==g[4]?0:g[4].substring(1),d.gregorian.min=void 0==g[5]?0:g[5].substring(1),d.gregorian.sec=void 0==g[6]?0:g[6].substring(1),c=!0):alert('Invalid Julian calendar date "'+f+'" in search request'):alert('Invalid Julian calendar date "'+f+'" in search request')}else if("jd"==e.toLowerCase()){var g=f.match(/^(\-?\d+\.?\d*)/);null!=g?(this.setJulian(g[1]),c=1):alert('Invalid Julian day "'+f+'" in search request')}else if("mjd"==e.toLowerCase()){var g=f.match(/^(\-?\d+\.?\d*)/);null!=g?(d.modifiedjulianday.day=g[1],this.calcModifiedJulian(),c=1):alert('Invalid Modified Julian day "'+f+'" in search request')}else if("unixtime"==e.toLowerCase()){var g=f.match(/^(\-?\d+\.?\d*)/);null!=g?(d.unixtime.time=g[1],this.calcUnixTime(),c=1):alert('Invalid Modified Julian day "'+f+'" in search request')}else if("iso"==e.toLowerCase()){var g;null!=(g=f.match(/^(\-?\d+)\-(\d\d\d)/))?(d.isoday.year=g[1],d.isoday.day=g[2],this.calcIsoDay(),c=1):null!=(g=f.match(/^(\-?\d+)\-?W(\d\d)\-?(\d)/i))?(d.isoweek.year=g[1],d.isoweek.week=g[2],d.isoweek.day=g[3],this.calcIsoWeek(),c=1):alert('Invalid ISO-8601 date "'+f+'" in search request')}else if("excel"==e.toLowerCase()){var g=f.match(/^(\-?\d+\.?\d*)/);null!=g?(d.excelserial1900.day=g[1],this.calcExcelSerial1900(),c=1):alert('Invalid Excel serial day (1900/PC) "'+f+'" in search request')}else if("excel1904"==e.toLowerCase()){var g=f.match(/^(\-?\d+\.?\d*)/);null!=g?(d.excelserial1904.day=g[1],this.calcExcelSerial1904(),c=1):alert('Invalid Excel serial day (1904/Mac) "'+f+'" in search request')}else alert('Invalid calendar "'+e+'" in search request')}else alert("Invalid search request: "+a);c||(this.setDateToToday(),this.calcGregorian())},a}(Ephemerides||{});